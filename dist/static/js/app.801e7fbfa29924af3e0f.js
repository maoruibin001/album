webpackJsonp([1],{"/uiR":function(t,e){},0:function(t,e){},"2XCy":function(t,e){},"2pCN":function(t,e){},"3wn5":function(t,e){},"4q2c":function(t,e){},"8Hz4":function(t,e){},ARzt:function(t,e){},Bz02:function(t,e){},EyYd:function(t,e){},GdEX:function(t,e){},GyDJ:function(t,e){},JOM8:function(t,e){},"K+Pt":function(t,e){},NHnr:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("woOf"),o=i.n(n),s=i("7+uW"),a=i("BO1k"),r=i.n(a),c=i("//Fk"),l=i.n(c);function d(){return!/Android | webOS |iPhone | iPod | BlackBerry/i.test(navigator.userAgent)}function u(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:12,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:30;return new l.a(function(o,s){var a=new Image;if(a.src=t,a.width>0||a.height>0){var r=(e-i)*(a.height/a.width)+n;return o(r)}var c=setInterval(function(){if(a.width>0||a.height>0){var t=(e-i)*(a.height/a.width)+n;return clearInterval(c),o(t)}},30)})}function f(t,e){t=t||"未知信息",e=isNaN(e)?3e3:e;var i=document.createElement("div");i.innerHTML=t,i.style.cssText="max-width:60%;min-width: 150px;padding:0 14px;height: 40px;color: rgb(255, 255, 255);line-height: 40px;text-align: center;border-radius: 4px;position: fixed;top: 50%;left: 50%;transform: translate(-50%, -50%);z-index: 999999;background: rgba(0, 0, 0,.7);font-size: 16px;",document.body.appendChild(i),setTimeout(function(){i.style.webkitTransition="-webkit-transform 0.5s ease-in, opacity 0.5s ease-in",i.style.opacity="0",setTimeout(function(){document.body.removeChild(i)},500)},e)}function h(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3,i=new l.a(function(t,i){setTimeout(function(){t()},e)});return l.a.all([t,i]).then(function(t){return t[0]})}function m(t,e){localStorage.setItem(t,e)}function p(t){return localStorage.getItem(t)}function v(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=window.location.search.slice(1),i=[];e&&(i=e.split("&"));var n={};return i.forEach(function(t){var e=t.split("="),i=e[0],o=e[1];n[i]=o}),t?n[t]:n}var g={data:function(){return{isPc:d(),navList:[{id:1,text:"首页",isActive:!0,iconClass:"iconzu3",path:"/",params:{}},{id:2,text:"分类",isActive:!1,iconClass:"iconzu2",path:"/classify",params:{},children:[{id:5,text:"小类",isActive:!1,iconClass:"iconzu2",path:"/littleClass",params:{}}]},{id:3,text:"通知",isActive:!1,iconClass:"iconzu1",path:"/notice",params:{}},{id:4,text:"收藏",isActive:!1,iconClass:"iconzu4",path:"/collect",params:{}}]}},created:function(){var t=this.$route.path,e=null;if(t){var i=!0,n=!1,o=void 0;try{for(var s,a=r()(this.navList);!(i=(s=a.next()).done);i=!0){var c=s.value;if(c.path===t){e=c;break}if(c.children){var l=!0,d=!1,u=void 0;try{for(var f,h=r()(c.children);!(l=(f=h.next()).done);l=!0){var m=f.value;if(-1!==t.indexOf(m.path)){e=c;break}}}catch(t){d=!0,u=t}finally{try{!l&&h.return&&h.return()}finally{if(d)throw u}}}}}catch(t){n=!0,o=t}finally{try{!i&&a.return&&a.return()}finally{if(n)throw o}}e&&this.chooseItem(e,!0)}},methods:{chooseItem:function(t,e){t&&(this.$nextTick(function(){document.title=t.text}),this.navList.forEach(function(e){e.isActive=e.id===t.id}),e||this.$router.push(t.path))}}},I={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ul",{class:t.isPc?"pc-nav-bar":"nav-bar"},t._l(t.navList,function(e,n){return i("li",{key:n,class:t.isPc?"pc-bar-item":"bar-item",on:{click:function(i){return t.chooseItem(e)}}},[i("div",{class:{"pc-item-box":t.isPc,active:e.isActive}},[i("div",{staticClass:"icon iconfont",class:e.iconClass}),t._v(" "),i("div",{staticClass:"text"},[t._v(t._s(e.text))])])])}),0)},staticRenderFns:[]};var w=i("VU/8")(g,I,!1,function(t){i("t1jS")},"data-v-5c3727ab",null).exports,C=i("Dd8w"),y=i.n(C),_=i("NYxO");function b(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1],i=t.method,n=t.type,o=void 0===n?"post":n,a=i.indexOf(":");if(-1!==a){var r=i.slice(a+1);i=i.slice(0,a)+e[r]}return"post"===o||"put"===o?s.a.http[o](i,e).then(function(t){if(0===t.retCode)return t;console.log("data",t);var e=t.data;return e&&e.errorMsg&&(t.msg=e.errorMsg),t.retCode?l.a.reject(t):t}):s.a.http[o](i,{params:e}).then(function(t){return 0===t.retCode?t:t.retCode?l.a.reject(t):t})}var x={add:{method:"/api/bseries"},move:{method:"/api/bseries/move"},delete:{method:"/api/bseries/:bId",type:"delete"},edit:{method:"/api/bseries/:bId",type:"put"},getAll:{method:"/api/bserieses",type:"get"},getSome:{method:"/api/someBserieses",type:"get"},get:{method:"/api/bseries/:bId",type:"get"}},L={add:{method:"/api/lseries"},move:{method:"/api/lseries/move"},delete:{method:"/api/lseries/:lId",type:"delete"},edit:{method:"/api/lseries/:lId",type:"put"},getSome:{method:"/api/someLserieses",type:"get"},getAll:{method:"/api/lserieses",type:"get"},get:{method:"/api/lseries/:lId",type:"get"}},k={add:{method:"/api/product"},move:{method:"/api/product/move"},delete:{method:"/api/product/:id",type:"delete"},edit:{method:"/api/product/:id",type:"put"},getSome:{method:"/api/someProducts",type:"get"},getAll:{method:"/api/products",type:"get"},get:{method:"/api/product/:id",type:"get"}},E={uploadImg:{method:"/api/upload/image"},uploadFile:{method:"/api/upload/file"}},S={login:{method:"/api/login"},add:{method:"/api/user"},put:{method:"/api/user",type:"put"},delete:{method:"/api/user",type:"delete"},get:{method:"/api/user",type:"get"}},P={getUserInfo:{method:"/api/userInfo",type:"get"}},$={add:{method:"/api/collection"},deleteCollection:{method:"/api/deleteCollection"},getAll:{method:"/api/collections",type:"get"}},B={add:{method:"/api/littleProgram"},put:{method:"/api/littleProgram/:id",type:"put"},delete:{method:"/api/littleProgram",type:"delete"},get:{method:"/api/littleProgram",type:"get"}},D={PAGESIZE:10,PAGENO:1,HOST:"http://"+location.host,APPID:"wx95bd67c3b7c5c989",SECRET:"2b5bf66816586287281b22c323c11743",GRANTTYPE:"client_credential"},N=i("mvHQ"),T=i.n(N);s.a.use(_.a);var O=new _.a.Store({state:{userInfo:{},flag:""},mutations:{setUserInfo:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};m("userInfo",T()(e)),t.userInfo=e},setFlag:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";m("flag",e),t.flag=e},setToken:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";m("token",e),t.token=e}},actions:{addUser:function(t,e){t.commit,t.dispatch;return b(S.add,e).then(function(t){t.data;f("添加用户成功")}).catch(function(t){return f(t.msg||t.body.msg),l.a.reject(t)})},modifyUser:function(t,e){var i=t.commit;t.dispatch;return b(S.put,e).then(function(t){var e=t.data;i("setToken",e.token),f("修改用户成功")}).catch(function(t){return f(t.msg||t.body.msg),l.a.reject(t)})},login:function(t,e){var i=t.commit;t.dispatch;return b(S.login,e).then(function(t){var e=t.data;return i("setUserInfo",e),i("setToken",e.token),i("setFlag",e.id),e}).catch(function(t){return f(t.msg||t.body.msg),l.a.reject(t)})}}});function U(t,e,i){var n=i||{},o=n.pageNo,s=void 0===o?D.PAGENO:o,a=n.pageSize,r=void 0===a?D.PAGESIZE:a;t("setIsEnd",!!e.isEnd),t("setPageNo",s),t("setPageSize",r),t("setIsLoading",!1)}s.a.use(_.a);var F=new _.a.Store({state:{userInfo:{},flag:"",pageNo:1,pageSize:D.PAGESIZE,isEnd:!1,isLoading:!1,bseriesList:[],bseriesInfo:{},lseriesList:[],lseriesInfo:{},productList:[],productInfo:{},editDiologShow:!1,bEditDiologShow:!1,lEditDiologShow:!1,isEdit:!1,isBEdit:!1,isLEdit:!1,editInfo:{name:"",mainImgList:[],descImgThumb:"",descImg:"",gifImgThumb:"",gifImg:"",originFile:"",prize:0},bEditInfo:{name:""},lEditInfo:{name:"",mainImg:"",mainImgThumb:"",bId:0},colections:[],littleProgramInfo:{}},mutations:{setLittleProgramInfo:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.littleProgramInfo=e},setFlag:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";t.flag=e},setEditing:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t.isEdit=e},setBEditing:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t.isBEdit=e},setLEditing:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t.isLEdit=e},setProductList:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];t.productList=e},addProductList:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];0!==e.length&&(t.productList=t.productList.concat(e))},setProductInfo:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.productInfo=e},setEditInfo:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.editInfo=e},setBEditInfo:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.bEditInfo=e},setLEditInfo:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.lEditInfo=e},setEditDiologShow:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t.editDiologShow=e},setBEditDiologShow:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t.bEditDiologShow=e},setLEditDiologShow:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t.lEditDiologShow=e},setBseriesList:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];t.bseriesList=e},setLseriesList:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];t.lseriesList=e},setBseriesInfo:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.bseriesInfo=e},setLseriesInfo:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.lseriesInfo=e},setPageNo:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;t.pageNo=e},setPageSize:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;t.pageSize=e},setIsEnd:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t.isEnd=e},setIsLoading:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t.isLoading=e},setUserInfo:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.userInfo=e},setColections:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];t.colections=e}},actions:{getBindLitteProgram:function(t){var e=t.commit,i=t.state,n=(t.dispatch,+i.flag||0),o=p("userInfo"),s=o?JSON.parse(o):{},a=O.state.userInfo.id||s.id||0;if(n||a)return b(B.get,{uid:a,flag:n}).then(function(t){var i=t.data,n=void 0===i?{}:i;return e("setLittleProgramInfo",n),n}).catch(function(t){})},bindLittleProgram:function(t){var e=t.commit,i=t.state,n=(t.dispatch,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),o=n.appid,s=n.version,a=+i.flag,r=p("userInfo"),c=r?JSON.parse(r):{},l=O.state.userInfo.id||c.id||0,d=i.littleProgramInfo.id;if(o&&a&&l)return b(d?B.put:B.add,{id:d,uid:l,appid:o,flag:a,version:s}).then(function(t){var i=t.data,n=void 0===i?{}:i;return f(d?"更新绑定小程序成功":"绑定小程序成功"),e("getBindLitteProgram"),n}).catch(function(t){f(t.msg||t.body.msg)})},getCollects:function(t,e){var i=t.commit,n=t.state,o=t.dispatch,s=e||n.userInfo.uid||p("uid");return s?b($.getAll,{id:e,uid:s}).then(function(t){var e=t.data,n=void 0===e?{}:e;return i("setColections",n.products),n}).catch(function(t){f(t.msg||t.body.msg)}):o("wxLogin")},collect:function(t,e){t.commit;var i=t.state,n=t.dispatch,o=e.id;if(o){var s=i.userInfo.uid||p("uid");return s?b(1===e.isCollection?$.deleteCollection:$.add,{id:o,uid:s}).then(function(t){var i=t.data,n=void 0===i?{}:i;return f(1===e.isCollection?"取消收藏成功":"收藏商品成功"),n}).catch(function(t){f(t.msg||t.body.msg)}):n("wxLogin")}},cancelCollect:function(t,e){t.commit;var i=t.state,n=t.dispatch,o=e.id;if(o){var s=i.userInfo.uid||p("uid");return s?b($.deleteCollection,{id:o,uid:s}).then(function(t){var e=t.data,i=void 0===e?{}:e;return f("取消收藏成功"),i}).catch(function(t){f(t.msg||t.body.msg)}):n("wxLogin")}},wxLogin:function(){var t="https://open.weixin.qq.com/connect/oauth2/authorize?appid="+D.APPID+"&redirect_uri="+encodeURIComponent(location.href)+"&response_type=code&scope=snsapi_userinfo#wechat_redirect";location.href=t},getUserInfo:function(t,e){var i=t.commit,n=t.dispatch,o=e.code,s=void 0===o?"":o,a=e.uid;return b(P.getUserInfo,{code:s,uid:void 0===a?0:a}).then(function(t){var e=t.data,n=(void 0===e?{}:e)||{};return i("setUserInfo",n),n.uid&&m("uid",n.uid),n}).catch(function(t){var e;e="uid",localStorage.removeItem(e),n("wxLogin")})},deleteProduct:function(t,e){t.commit;var i=t.dispatch;return b(k.delete,e).then(function(t){i("getProducts",e),f("删除产品成功")}).catch(function(t){f(t.msg||t.body.msg)})},addProduct:function(t,e){t.commit;var i=t.dispatch;return b(k.add,e).then(function(t){var e=t.data;i("getProducts",e),f("新增产品成功")}).catch(function(t){f(t.msg||t.body.msg)})},moveProduct:function(t,e){t.commit;var i=t.dispatch;return b(k.move,e).then(function(t){i("getProducts",e),f("移动产品成功")}).catch(function(t){f(t.msg||t.body.msg)})},editProduct:function(t,e){t.commit;var i=t.dispatch;return b(k.edit,e).then(function(t){var e=t.data;i("getProducts",e),f("修改产品成功")}).catch(function(t){f(t.msg||t.body.msg)})},getSomeProducts:function(t,e){var i=t.commit;t.dispatch;return b(k.getSome,e).then(function(t){var n=t.data;i(1===e.pageNo?"setProductList":"addProductList",n.products),U(i,n,e)}).catch(function(t){i("setIsLoading",!1),f(t.msg||t.body.msg)})},getProducts:function(t,e){var i=t.commit,n=(t.dispatch,t.state);return(e=function(t){var e=t||{},i=e.pageNo,n=void 0===i?D.PAGENO:i,o=e.pageSize,s=void 0===o?D.PAGESIZE:o;return y()({},t,{pageNo:n,pageSize:s})}(e)).uid=n.userInfo.uid||p("uid"),b(k.getAll,e).then(function(t){var n=t.data;return U(i,n,e),i(1===e.pageNo?"setProductList":"addProductList",n.products),n}).catch(function(t){i("setIsLoading",!1),f(t.msg||t.body.msg)})},getProduct:function(t,e){var i=t.commit;t.dispatch;return b(k.get,e).then(function(t){var n=t.data;return i("setProductInfo",n),U(i,n,e),n}).catch(function(t){i("setIsLoading",!1),f(t.msg||t.body.msg)})},deleteBseries:function(t,e){t.commit;var i=t.dispatch;return b(x.delete,e).then(function(t){i("getBserieses"),i("getProducts"),f("删除大类成功")}).catch(function(t){f(t.msg||t.body.msg)})},addBseries:function(t,e){t.commit;var i=t.dispatch;return b(x.add,e).then(function(t){i("getBserieses"),f("新增大系列成功")}).catch(function(t){f(t.msg||t.body.msg)})},moveBseries:function(t,e){t.commit;var i=t.dispatch;return b(x.move,e).then(function(t){i("getBserieses"),f("移动大系列成功")}).catch(function(t){f(t.msg||t.body.msg)})},editBseries:function(t,e){t.commit;var i=t.dispatch;return b(x.edit,e).then(function(t){i("getBserieses"),f("修改大系列成功")}).catch(function(t){f(t.msg||t.body.msg)})},getBserieses:function(t,e){var i=t.commit;t.dispatch;return b(x.getAll,e).then(function(t){var n=t.data;i("setBseriesList",n.bseries),U(i,n,e)}).catch(function(t){i("setIsLoading",!1),f(t.msg||t.body.msg)})},getSomeBserieses:function(t,e){var i=t.commit;t.dispatch;return b(x.getSome,e).then(function(t){var n=t.data;i("setBseriesList",n.bseries),U(i,n,e)}).catch(function(t){i("setIsLoading",!1),f(t.msg||t.body.msg)})},getBseries:function(t,e){var i=t.commit;t.dispatch;return b(x.get,e).then(function(t){var n=t.data;return i("setBseriesInfo",n),U(i,n,e),n}).catch(function(t){i("setIsLoading",!1),f(t.msg||t.body.msg)})},deleteLseries:function(t,e){t.commit;var i=t.dispatch;return b(L.delete,e).then(function(t){i("getBserieses"),i("getProducts",e),f("删除小类成功")}).catch(function(t){f(t.msg||t.body.msg)})},addLseries:function(t,e){t.commit;var i=t.dispatch;return b(L.add,e).then(function(t){i("getBserieses"),f("新增小系列成功")}).catch(function(t){f(t.msg||t.body.msg)})},moveLseries:function(t,e){t.commit;var i=t.dispatch;return b(L.move,e).then(function(t){i("getBserieses"),f("移动小系列成功")}).catch(function(t){f(t.msg||t.body.msg)})},editLseries:function(t,e){t.commit;var i=t.dispatch;return b(L.edit,e).then(function(t){i("getBserieses"),f("修改小系列成功")}).catch(function(t){f(t.msg||t.body.msg)})},getLserieses:function(t,e){var i=t.commit;t.dispatch;return b(L.getAll,e).then(function(t){var n=t.data;i("setLseriesList",n.lseries),U(i,n,e)}).catch(function(t){i("setIsLoading",!1),f(t.msg||t.body.msg)})},getLseries:function(t,e){var i=t.commit;t.dispatch;return b(L.get,e).then(function(t){var n=t.data;i("setLseriesInfo",n),U(i,n,e)}).catch(function(t){i("setIsLoading",!1),f(t.msg||t.body.msg)})}}}),R={data:function(){return{isPc:d(),searchText:""}},computed:{needGap:function(){return-1!==["/","/notice","/home","/collect","/classify"].indexOf(this.$route.path)},homeItems:function(){return F.state.productList.map(function(t){return y()({},t,{width:130,height:140})})}},methods:{toUser:function(){this.$router.push("/user")},search:function(t){switch(this.$route.path){case"/classify":F.dispatch("getSomeBserieses",{key:t});break;case"/":case"/collect":case"/notice":F.dispatch("getSomeProducts",{key:t})}}}},z={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"search-bar",class:{"top-gap":t.needGap,"left-gap":t.isPc}},[i("div",{staticClass:"search-container"},[i("div",{staticClass:"search-box"},[i("span",{staticClass:"search-icon iconfont iconzu7"}),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.searchText,expression:"searchText"}],staticClass:"search-input",attrs:{type:"text",placeholder:"查找"},domProps:{value:t.searchText},on:{change:function(e){return t.search(t.searchText)},input:function(e){e.target.composing||(t.searchText=e.target.value)}}})]),t._v(" "),i("div",{staticClass:"person-box",on:{click:function(e){return t.toUser()}}},[i("div",{staticClass:"person-icon iconfont iconfuhao"})])])])},staticRenderFns:[]};var G={name:"App",components:{Navbar:w,Search:i("VU/8")(R,z,!1,function(t){i("Oe2d")},"data-v-55dacac8",null).exports},computed:{showNavbar:function(){return-1!==["/","/notice","/home","/collect","/classify"].indexOf(this.$route.path)||-1!==this.$route.path.indexOf("/littleClass")},needGap:function(){return-1!==["/","/notice","/home","/collect","/classify"].indexOf(this.$route.path)},notNeedGap:function(){return-1!==this.$route.path.indexOf("/admin")||-1!==this.$route.path.indexOf("/detail")}},created:function(){var t=this.$route.query.flag;this.userLogin(),t&&(localStorage.setItem("flag",t),F.commit("setFlag",t))},data:function(){return{isPc:d()}},methods:{userLogin:function(){var t=v("code"),e=p("uid");if(e)F.dispatch("getUserInfo",{uid:e});else{var i=-1!==navigator.userAgent.toLowerCase().indexOf("micromessenger");(v("needLogin")||i)&&(t?F.dispatch("getUserInfo",{code:t}):F.dispatch("wxLogin"))}}}},j={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:{"left-gap":t.isPc&&!t.notNeedGap},attrs:{id:"app"}},[t.showNavbar?i("Search"):t._e(),t._v(" "),i("router-view",{class:{"top-gap":!t.notNeedGap,"bottom-gap":!t.notNeedGap}}),t._v(" "),t.showNavbar?i("Navbar"):t._e()],1)},staticRenderFns:[]};var M=i("VU/8")(G,j,!1,function(t){i("tmg2")},null,null).exports,A=i("/ocq"),H="_wfMoveClass",W={props:{autoResize:{default:!0},interval:{default:200,validator:function(t){return t>=0}},align:{default:"left",validator:function(t){return~["left","right","center"].indexOf(t)}},line:{default:"v",validator:function(t){return~["v","h"].indexOf(t)}},lineGap:{required:!0,validator:function(t){return t>=0}},minLineGap:{validator:function(t){return t>=0}},maxLineGap:{validator:function(t){return t>=0}},singleMaxWidth:{validator:function(t){return t>=0}},fixedHeight:{default:!1},grow:{validator:function(t){return t instanceof Array}},watch:{default:function(){return{}}}},data:function(){return{style:{height:"",overflow:""},token:null}},methods:{reflowHandler:function(){clearTimeout(this.token),this.token=setTimeout(this.reflow,this.interval)},autoResizeHandler:function(t){!1!==t&&this.autoResize?it(window,"resize",this.reflowHandler,!1):nt(window,"resize",this.reflowHandler,!1)},reflow:function(){var t=this;if(!this.$el)return;var e=this.$el.clientWidth,i=this.$children.map(function(t){return t.getMeta()});i.sort(function(t,e){return t.order-e.order}),this.virtualRects=i.map(function(){return{}}),K(this,i,this.virtualRects),setTimeout(function(){var n;n=t.$el,e!==n.clientWidth&&K(t,i,t.virtualRects),t.style.overflow="hidden",function(t,e){var i=e.filter(function(t){return t.moveClass}),n=Z(i);!function(t,e){t.forEach(function(t,i){var n=e[i].node.style;for(var o in e[i].vm.rect=t,t)n[o]=t[o]+"px"})}(t,e);var o=Z(i);i.forEach(function(t,e){var i,s,a,r,c,l,d;t.node[H]=t.moveClass,i=t.node,s=n[e],a=o[e],r=s.left-a.left,c=s.top-a.top,l=s.width/a.width,d=s.height/a.height,i.style.transform=i.style.WebkitTransform="translate("+r+"px,"+c+"px) scale("+l+","+d+")",i.style.transitionDuration="0s"}),document.body.clientWidth,i.forEach(function(t){var e;!function(t,e){if(!function(t,e){return new RegExp("\\b"+e+"\\b").test(et(t,"class"))}(t,e)){var i=et(t,"class").trim(),n=(i+" "+e).trim();et(t,"class",n)}}(t.node,t.moveClass),(e=t.node).style.transform=e.style.WebkitTransform="",e.style.transitionDuration=""})}(t.virtualRects,i),t.$emit("reflowed",t)},0)}},created:function(){var t=this;this.virtualRects=[],this.$on("reflow",function(){t.reflowHandler()}),this.$watch(function(){return t.align,t.line,t.lineGap,t.minLineGap,t.maxLineGap,t.singleMaxWidth,t.fixedHeight,t.watch},this.reflowHandler),this.$watch("grow",this.reflowHandler)},mounted:function(){this.$watch("autoResize",this.autoResizeHandler),it(this.$el,Q(),V,!0),this.autoResizeHandler(this.autoResize)},beforeDestroy:function(){this.autoResizeHandler(!1),nt(this.$el,Q(),V,!0)}};function V(t){var e,i,n,o=t.target,s=o[H];s&&(e=o,i=new RegExp("\\s*\\b"+s+"\\b\\s*","g"),n=et(e,"class").replace(i," ").trim(),et(e,"class",n))}function K(t,e,i){var n=function(t){var e=t.maxLineGap?+t.maxLineGap:t.lineGap;return{align:~["left","right","center"].indexOf(t.align)?t.align:"left",line:~["v","h"].indexOf(t.line)?t.line:"v",lineGap:+t.lineGap,minLineGap:t.minLineGap?+t.minLineGap:t.lineGap,maxLineGap:e,singleMaxWidth:Math.max(t.singleMaxWidth||0,e),fixedHeight:!!t.fixedHeight,grow:t.grow&&t.grow.map(function(t){return+t})}}(t);("h"===t.line?J:q).calculate(t,n,e,i)}var q=function(){return{calculate:function(t,e,i,n){var o=t.$el.clientWidth,s=e.grow,a=s?function(t,e){var i=X(e);return{width:e.map(function(e){return t*e/i}),count:e.length,left:0}}(o,s):function(t,e){var i=t/e.lineGap,n=void 0;if(e.singleMaxWidth>=t)i=1,n=Math.max(t,e.minLineGap);else{var o=e.maxLineGap*~~i,s=e.minLineGap*~~(i+1),a=o>=t,r=s<=t;a&&r?(i=Math.round(i),n=t/i):a?n=t/(i=~~i):r?n=t/(i=~~(i+1)):(i=~~i,n=e.maxLineGap),1===i&&(n=Math.min(t,e.singleMaxWidth),n=Math.max(n,e.minLineGap))}return{width:tt(n,i),count:i,left:Y(t,n*i,e.align)}}(o,e),r=tt(0,a.count);i.forEach(function(t,i){var o=r.reduce(function(t,e,i){return e<r[t]?i:t},0),s=a.width[o%a.count],c=n[i];c.top=r[o],c.left=a.left+(o?X(a.width.slice(0,o)):0),c.width=s,c.height=t.height*(e.fixedHeight?1:s/t.width),r[o]=r[o]+c.height}),t.style.height=Math.max.apply(Math,r)+"px"}}}(),J=function(){function t(t,i,n,o){var s=function(t,e,i,n){for(var o=0,s=n,a=0;s<i.length&&a<=t;s++)a+=i[s].width*e/i[s].height,o++;return o}(t,i.lineGap,n,o),a=Math.max(s-1,1),r=e(t,i,n,o,s),c=function(t,e,i){return t.cost===1/0&&e.cost===1/0?e.width<i?e:t:e.cost>=t.cost?t:e}(e(t,i,n,o,a),r,t),l=c.height,d=c.width;return 1===c.count&&(d=Math.min(i.singleMaxWidth,t),l=n[o].height*d/n[o].width),{left:Y(t,d,i.align),count:c.count,height:l}}function e(t,e,i,n,o){for(var s=0,a=o-1;a>=0;a--){var r=i[n+a];s+=r.width*e.lineGap/r.height}var c=e.lineGap*t/s;if(c<=e.maxLineGap&&c>=e.minLineGap)return{cost:Math.abs(e.lineGap-c),count:o,width:t,height:c};var l=s>t?e.minLineGap:e.maxLineGap;return{cost:1/0,count:o,width:s*l/e.lineGap,height:l}}return{calculate:function(e,i,n,o){for(var s=e.$el.clientWidth,a=n.length,r=0,c=0;c<a;){for(var l,d,u=t(s,i,n,c),f=0,h=0;f<u.count;f++)l=n[c+f],(d=o[c+f]).top=r,d.left=u.left+h,d.width=l.width*u.height/l.height,d.height=u.height,h+=d.width;c+=u.count,r+=u.height}e.style.height=r+"px"}}}();function Y(t,e,i){switch(i){case"right":return t-e;case"center":return(t-e)/2;default:return 0}}function X(t){return t.reduce(function(t,e){return t+e})}function Z(t){return t.map(function(t){return t.vm.rect})}function Q(){return void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend?"webkitTransitionEnd":"transitionend"}function tt(t,e){for(var i="function"==typeof t?function(){return t()}:function(){return t},n=[],o=0;o<e;o++)n[o]=i();return n}function et(t,e,i){if(void 0===i)return t.getAttribute(e)||"";t.setAttribute(e,i)}function it(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];t.addEventListener(e,i,n)}function nt(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];t.removeEventListener(e,i,n)}var ot={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"vue-waterfall",style:this.style},[this._t("default")],2)},staticRenderFns:[]};var st=i("VU/8")(W,ot,!1,function(t){i("merk")},null,null).exports,at={props:{items:{type:Array,default:function(){return[]}}},components:{Waterfall:st},mounted:function(){d()&&window.addEventListener("scroll",this.scrollHandler)},beforeDestroy:function(){d()&&window.addEventListener("scroll",this.scrollHandler)},data:function(){return{align:"center",isBusy:!1}},methods:{scrollHandler:function(){(document.documentElement.scrollTop||document.body.scrollTop)+window.innerHeight>=document.body.clientHeight&&this.addItems()},addItems:function(){this.isBusy||(this.isBusy=!0,this.$emit("loadmore"))},reflowed:function(){this.isBusy=!1,this.$emit("reflowed")}}},rt={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("waterfall",{ref:"waterfall",attrs:{align:t.align,"line-gap":200,"min-line-gap":100,"max-line-gap":220,"single-max-width":300,watch:t.items},on:{reflowed:t.reflowed},nativeOn:{scroll:function(e){return t.scrollfall(e)}}},[t._t("default")],2)},staticRenderFns:[]};var ct=i("VU/8")(at,rt,!1,function(t){i("yRND")},"data-v-6e120c36",null).exports,lt={props:{id:{type:Number,default:0},isCollection:{type:Number,default:0},isShow:{type:Boolean,default:!1}},methods:{tabCollection:function(){this.$emit("tabCollection",this.id)},close:function(){this.$emit("close")},share:function(){console.log("share")}}},dt={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.isShow?i("div",{staticClass:"little-pannel",on:{click:function(t){t.stopPropagation()}}},[i("ul",{staticClass:"item-box"},[i("li",{staticClass:"item"},[i("span",{on:{click:function(e){return e.stopPropagation(),t.tabCollection(e)}}},[t._v(t._s(t.isCollection?"已收藏":"收藏"))])])])]):t._e()},staticRenderFns:[]};var ut=i("VU/8")(lt,dt,!1,function(t){i("SCEK")},"data-v-5425c528",null).exports,ft=i("/kJX"),ht={props:["item","data","id"],components:{Carousel:ft.Carousel,Slide:ft.Slide},data:function(){return{zIndex:1,maxHeight:0,maxHeightItem:{},items:this.item.map(function(t){return y()({},t,{style:{width:"100%",height:"auto"}})}),index:this.item.length}},methods:{reHeight:function(){},getImgSize:function(t,e){var i=this;u(t.thumbUrl,130,0,15).then(function(n){0===e&&(t.height=n,i.$emit("itemChange",y()({},t,{id:i.id})))})}},mounted:function(){var t=this;setTimeout(function(){t.zIndex=2},300),setTimeout(function(){t.zIndex=3},500),setTimeout(function(){t.zIndex=4},1e3)}},mt={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("carousel",{attrs:{mouseDrag:!1,autoplay:!0,loop:!0,perPage:1,autoplayTimeout:5e3,paginationEnabled:!1,adjustableHeight:!0}},t._l(t.items,function(e,n){return i("slide",{key:n,style:{zIndex:t.zIndex}},[i("img",{staticStyle:{"border-radus":"5px"},style:e.style,attrs:{id:"pic"+e.Id,src:e.thumbUrl,alt:""},on:{load:function(i){return t.getImgSize(e,n)}}})])}),1)},staticRenderFns:[]},pt=i("VU/8")(ht,mt,!1,null,null,null).exports,vt={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{directives:[{name:"show",rawName:"v-show",value:this.isShow,expression:"isShow"}],staticClass:"vue-waterfall-slot"},[this._t("default")],2)},staticRenderFns:[]};var gt=i("VU/8")({data:function(){return{isShow:!1}},props:{width:{required:!0,validator:function(t){return t>=0}},height:{required:!0,validator:function(t){return t>=0}},order:{default:0},moveClass:{default:""}},methods:{notify:function(){this.$parent.$emit("reflow",this)},getMeta:function(){return{vm:this,node:this.$el,order:this.order,width:this.width,height:this.height,moveClass:this.moveClass}}},created:function(){var t=this;this.rect={top:0,left:0,width:0,height:0},this.$watch(function(){return t.width,t.height},this.notify)},mounted:function(){var t=this;this.$parent.$once("reflowed",function(){t.isShow=!0}),this.notify()},destroyed:function(){this.notify()}},vt,!1,function(t){i("2XCy")},null,null).exports,It={components:{WaterFall:ct,WaterfallSlot:gt,Carousel:pt,LittlePannel:ut},created:function(){F.dispatch("getProducts")},computed:{list:function(){return F.state.productList.map(function(t){return y()({},t,{width:130,height:140,showPannel:!1})})},isEnd:function(){return F.state.isEnd},pageNo:function(){return F.state.pageNo},isLoading:function(){return F.state.isLoading}},watch:{list:function(t){this.items=t}},data:function(){return{showPannel:!1,items:this.list}},methods:{tabCollection:function(t){var e=this.list.find(function(e){return e.id===t});F.dispatch("collect",e).then(function(){e.isCollection=1===e.isCollection?0:1})},itemChange:function(t){this.items.forEach(function(e){e.id===t.id&&(e.height=t.height)})},toDetail:function(t){t.id&&this.$router.push("/detail/"+t.id)},refresh:function(t){h(F.dispatch("getProducts")).then(function(){t()}).catch(function(e){t()})},loadmore:function(t){this.isEnd?this.$refs.scroller.finishInfinite():this.isLoading||(F.commit("setIsLoading",!0),h(F.dispatch("getProducts",{pageNo:this.pageNo+1})).then(function(){t()}).catch(function(e){t()}))}}},wt={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("scroller",{ref:"scroller",attrs:{refreshText:"刷新中...","on-refresh":t.refresh,"on-infinite":t.loadmore,height:"95%"}},[i("div",{staticStyle:{padding:"0 10px"}},[i("WaterFall",{staticClass:"item-box",on:{loadmore:t.loadmore}},t._l(t.items,function(e,n){return i("waterfall-slot",{key:e.index,attrs:{width:e.width,height:e.height,order:n,"move-class":"item-move"}},[e.mainImgList&&e.mainImgList.length>0?i("div",{staticClass:"item",on:{click:function(i){return t.toDetail(e)}}},[i("Carousel",{attrs:{item:e.mainImgList||[],id:e.id},on:{itemChange:t.itemChange}})],1):t._e(),t._v(" "),i("div",{staticClass:"item-desc"},[i("div",{staticClass:"left"},[t._v("\n                        "+t._s(e.name)+"\n                    ")]),t._v(" "),i("div",{staticClass:"right",on:{click:function(t){e.showPannel=!e.showPannel}}},[i("LittlePannel",{attrs:{isShow:e.showPannel,id:e.id,isCollection:e.isCollection},on:{tabCollection:t.tabCollection}}),t._v(" "),t._v("\n                        ... \n                    ")],1)])])}),1)],1),t._v(" "),t.isEnd?i("nodata"):t._e()],1)},staticRenderFns:[]};var Ct=i("VU/8")(It,wt,!1,function(t){i("rQi5")},"data-v-d89395ea",null).exports,yt={components:{WaterFall:ct,WaterfallSlot:gt},created:function(){F.dispatch("getBserieses")},computed:{items:function(){var t=F.state.bseriesList.map(function(t){return y()({},t,{width:130,height:120})});return t},isEnd:function(){return F.state.isEnd},pageNo:function(){return F.state.pageNo},isLoading:function(){return F.state.isLoading}},data:function(){return{}},methods:{getCurrentHeight:function(t){},toLittleClass:function(t){this.$router.push("/"+t.bId+"/littleClass")},reflowed:function(){},refresh:function(t){h(F.dispatch("getProducts")).then(function(){t()}).catch(function(e){t()})},loadmore:function(t){this.isEnd?this.$refs.scroller.finishInfinite():this.isLoading||(F.commit("setIsLoading",!0),h(F.dispatch("getProducts",{pageNo:this.pageNo+1})).then(function(){t()}).catch(function(e){t()}))},stateChange:function(t){"pull"===t||"trigger"===t?this.iconLink="#icon-arrow-bottom":"loading"===t?this.iconLink="#icon-loading":"loaded-done"===t&&(this.iconLink="#icon-finish")}}},_t={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("scroller",{ref:"scroller",attrs:{refreshText:"刷新中...","on-refresh":t.refresh,"on-infinite":t.loadmore,height:"95%"}},[i("div",{staticStyle:{padding:"0 10px"}},[i("WaterFall",{staticClass:"box",attrs:{"fixed-height":!0,line:"v",height:"95%"},on:{loadmore:t.loadmore,reflowed:t.reflowed}},t._l(t.items,function(e,n){return i("waterfall-slot",{key:e.index,staticClass:"slot-item",attrs:{width:e.width,height:e.height,order:n,"move-class":"item-move"}},[i("div",{staticClass:"item",on:{click:function(i){return t.toLittleClass(e)}}},[i("div",{staticClass:"title"},[t._v(t._s(e.name))]),t._v(" "),i("div",{staticClass:"img-box"},[i("div",{staticClass:"left",style:{"background-image":"url("+(e.children[0]||{}).mainImgThumb+")"}}),t._v(" "),i("div",{staticClass:"right"},[i("div",{staticClass:"r-item top",style:{"background-image":"url("+(e.children[1]||e.children[0]||{}).mainImgThumb+")"}}),t._v(" "),i("div",{staticClass:"r-item bottom",style:{"background-image":"url("+(e.children[2]||e.children[1]||e.children[0]||{}).mainImgThumb+")"}})])])])])}),1)],1),t._v(" "),t.isEnd?i("nodata"):t._e()],1)},staticRenderFns:[]};var bt=i("VU/8")(yt,_t,!1,function(t){i("K+Pt")},"data-v-42756009",null).exports,xt=["#252B18","#4A3901","#40481F","#8B7450","#647C02"],Lt={props:{list:{type:Array,default:function(){return[]}}},data:function(){return{sliderList:this.handlerList(this.list)}},watch:{list:function(t){this.sliderList=this.handlerList(this.list)}},methods:{handlerList:function(t){return[{lId:0,name:"全部",color:xt[0],isActive:!0}].concat(t.map(function(t,e){return y()({},t,{color:xt[e]||xt[e%xt.length],isActive:!1})}))},chooseItem:function(t,e){e.forEach(function(e){e.isActive=e.lId===t.lId}),this.$emit("chooseItem",t)}}},kt={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"slider-container"},[i("ul",{staticClass:"slider-box"},t._l(t.sliderList,function(e,n){return i("li",{key:n,staticClass:"slider-item",class:{active:e.isActive},style:{backgroundColor:e.color},on:{click:function(i){return t.chooseItem(e,t.sliderList)}}},[t._v(t._s(e.name))])}),0)])},staticRenderFns:[]};var Et={components:{WaterFall:ct,WaterfallSlot:gt,Slider:i("VU/8")(Lt,kt,!1,function(t){i("3wn5")},"data-v-3db9a2ce",null).exports},data:function(){return{id:this.$route.params.id,items:[],itemWidth:0}},computed:{navList:function(){return(F.state.bseriesInfo||{}).children},list:function(){return F.state.productList||[]},isEnd:function(){return F.state.isEnd},pageNo:function(){return F.state.pageNo},pageSize:function(){return F.state.pageSize}},created:function(){F.dispatch("getBseries",{bId:this.id,pageSize:100}).then(function(t){document.title=t.name||"分类"}),F.dispatch("getProducts",{bId:this.id})},watch:{list:function(t){this.items=this.handlerList(t)}},methods:{toDetail:function(t){t.id&&this.$router.push("/detail/"+t.id)},handlerList:function(t){return t.map(function(t){return y()({},t,{width:130,height:140})})},chooseItem:function(t){"全部"===t.name?F.dispatch("getProducts",{bId:this.id}):(F.commit("setPageNo",1),F.dispatch("getProducts",{lId:t.lId}))},getCurrentHeight:function(t){t.mainImgList=t.mainImgList||[{}],u((t.mainImgList[0]||{}).url,t.width).then(function(e){t.height=e})},reflowed:function(){},refresh:function(t){h(F.dispatch("getProducts",{bId:this.id})).then(function(){t()}).catch(function(e){t()})},loadmore:function(t){this.isEnd?this.$refs.scroller.finishInfinite():this.isLoading||(F.commit("setIsLoading",!0),h(F.dispatch("getProducts",{pageNo:this.pageNo+1,bId:this.id})).then(function(){t()}).catch(function(e){t()}))}}},St={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container"},[i("Slider",{attrs:{list:t.navList},on:{chooseItem:t.chooseItem}}),t._v(" "),i("scroller",{ref:"scroller",staticClass:"scrollerbox",attrs:{refreshText:"刷新中...","on-refresh":t.refresh,height:"95%","on-infinite":t.loadmore}},[i("WaterFall",{staticClass:"item-box",on:{loadmore:t.loadmore,reflowed:t.reflowed}},t._l(t.items,function(e,n){return i("waterfall-slot",{key:e.index,staticClass:"slot-item",attrs:{width:e.width,height:e.height,order:n,"move-class":"item-move"}},[i("div",{staticClass:"item",on:{click:function(i){return t.toDetail(e)}}},[i("img",{ref:e.id,refInFor:!0,staticStyle:{width:"100%"},attrs:{src:e.mainImgList[0].thumbUrl,alt:""},on:{load:function(i){return t.getCurrentHeight(e)}}}),t._v(" "),i("div",{staticClass:"item-desc"},[i("div",{staticClass:"left"},[t._v("\n                            "+t._s(e.name)+"\n                        ")]),t._v(" "),i("div",{staticClass:"right"},[t._v("\n                            ... \n                        ")])])])])}),1),t._v(" "),t.isEnd?i("nodata"):t._e()],1)],1)},staticRenderFns:[]};var Pt=i("VU/8")(Et,St,!1,function(t){i("ARzt")},"data-v-5c9dbda6",null).exports,$t={components:{WaterFall:ct,WaterfallSlot:gt},data:function(){return{items:[]}},computed:{list:function(){return F.state.colections.map(function(t){return y()({},t,{width:130,height:140})})},isEnd:function(){return F.state.isEnd},pageNo:function(){return F.state.pageNo}},watch:{list:function(t){this.items=t}},created:function(){F.dispatch("getCollects")},methods:{toDetail:function(t){t.id&&this.$router.push("/detail/"+t.id)},getCurrentHeight:function(t){u((t.mainImgList[0]||{}).url,t.width).then(function(e){t.height=e})},reflowed:function(){},refresh:function(t){setTimeout(function(){t()},1500)},loadmore:function(t){t(),"function"!=typeof t&&(t=function(){})}}},Bt={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("scroller",{attrs:{refreshText:"刷新中...","on-refresh":t.refresh,height:"95%","on-infinite":t.loadmore}},[i("WaterFall",{staticClass:"item-box",on:{loadmore:t.loadmore,reflowed:t.reflowed}},t._l(t.items,function(e,n){return i("waterfall-slot",{key:e.index,staticClass:"slot-item",attrs:{width:e.width,height:e.height,order:n,"move-class":"item-move"}},[i("div",{staticClass:"item",on:{click:function(i){return t.toDetail(e)}}},[i("img",{ref:e.id,refInFor:!0,staticStyle:{width:"100%"},attrs:{src:e.mainImgList[0].url,alt:""},on:{load:function(i){return t.getCurrentHeight(e)}}}),t._v(" "),i("div",{staticClass:"item-desc"},[i("div",{staticClass:"left"},[t._v("\n                        "+t._s(e.name)+"\n                    ")]),t._v(" "),i("div",{staticClass:"right"},[t._v("\n                        ... \n                    ")])])])])}),1),t._v(" "),t.isEnd?i("nodata"):t._e()],1)},staticRenderFns:[]};var Dt=i("VU/8")($t,Bt,!1,function(t){i("JOM8")},"data-v-31eac693",null).exports;var Nt={components:{},data:function(){return{}},computed:{items:function(){var t=F.state.productList.map(function(t){return y()({},t,{width:130,height:140})});return t},isEnd:function(){return F.state.isEnd},pageNo:function(){return F.state.pageNo},isLoading:function(){return F.state.isLoading}},created:function(){F.dispatch("getProducts",{sort:"-modifydate"})},filters:{getGapDay:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date;if(!t||!e)throw new Error("请传入有效日期");var i=new Date(t).setHours(0,0,0,0),n=new Date(e).setHours(0,0,0,0),o=parseInt((i-n)/864e5);if(0===o){var s=parseInt((new Date(t).getTime()-new Date(e).getTime())/36e5);return s>0?s+"小时后":0===s?"刚刚":-s+"小时前"}return o>0?o+"天后":-o+"天前"}},methods:{toDetail:function(t){t.id&&this.$router.push("/detail/"+t.id)},refresh:function(t){h(F.dispatch("getProducts",{sort:"-modifydate"})).then(function(){t()}).catch(function(e){t()})},loadmore:function(t){this.isEnd?this.$refs.scroller.finishInfinite():this.isLoading||(F.commit("setIsLoading",!0),h(F.dispatch("getProducts",{pageNo:this.pageNo+1})).then(function(){t()}).catch(function(e){t()}))}}},Tt={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("scroller",{ref:"scroller",attrs:{refreshText:"刷新中...","on-refresh":t.refresh,height:"95%","on-infinite":t.loadmore}},[i("div",{staticClass:"notice-box"},t._l(t.items,function(e,n){return i("div",{key:n,staticClass:"item",on:{click:function(i){return t.toDetail(e)}}},[i("div",{staticClass:"title"},[i("div",{staticClass:"icon iconfont",class:e.icon}),t._v(" "),i("div",{staticClass:"text"},[t._v(t._s(e.name))]),t._v(" "),i("div",{staticClass:"date"},[t._v(t._s(t._f("getGapDay")(e.modifyDate)))])]),t._v(" "),i("div",{staticClass:"content",style:{backgroundImage:"url("+e.mainImgList[0].url+")"}})])}),0),t._v(" "),t.isEnd?i("nodata"):t._e()],1)},staticRenderFns:[]};var Ot=i("VU/8")(Nt,Tt,!1,function(t){i("EyYd")},"data-v-4ab1cd5a",null).exports,Ut={computed:{user:function(){return F.state.userInfo}},data:function(){return{}}},Ft={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"user-info"},[i("div",{staticClass:"name-box"},[i("div",{staticClass:"user-name"},[t._v(t._s(t.user.name))]),t._v(" "),i("div",{staticClass:"user-icon"},[i("img",{staticClass:"width-100",attrs:{src:t.user.headImgUrl,alt:""}})])]),t._v(" "),i("div",{staticClass:"content"},[i("div",{staticClass:"item"},[i("div",{staticClass:"left"},[t._v("积分："+t._s(t.user.score))]),t._v(" "),t._m(0)]),t._v(" "),i("div",{staticClass:"item"},[i("div",{staticClass:"left"},[t._v("我的推广码")]),t._v(" "),i("div",{staticClass:"right"},[i("span",{staticClass:"qrcode"},[i("img",{staticClass:"width-100",attrs:{src:t.user.qrImg,alt:""}})])])]),t._v(" "),t._m(1)]),t._v(" "),i("div",{staticClass:"footer"},[i("div",{staticClass:"upgrade-box"},[i("button",{staticClass:"upgrade"},[t._v("立即升级VIP "+t._s(t.user.vipFee)+"元/年")])]),t._v(" "),i("div",{staticClass:"buy-box"},[i("button",{staticClass:"buy"},[t._v("单次购买"+t._s(t.user.singFee)+"元")])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"right"},[e("span",{staticClass:"vip"},[this._v("vip")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"item"},[e("div",{staticClass:"left"},[this._v("设计师端口")]),this._v(" "),e("div",{staticClass:"right"},[e("span",{staticClass:"apply"},[this._v("申请")])])])}]};var Rt=i("VU/8")(Ut,Ft,!1,function(t){i("4q2c")},"data-v-652fa61d",null).exports,zt={components:{},data:function(){return{id:this.$route.params.id,url:"/static/test/2.jpg"}},created:function(){F.dispatch("getProduct",{id:this.id}).then(function(t){document.title=t.name})},computed:{productInfo:function(){return F.state.productInfo||{}}},methods:{toDetailGif:function(){this.$router.push(this.$route.path+"/gif")}}},Gt={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"detail-box"},[e("div",{staticClass:"detail-img"},[e("img",{staticClass:"w-100",attrs:{src:this.productInfo.descImg,alt:""}})]),this._v(" "),e("div",{staticClass:"detail-btns"},[e("div",{staticClass:"btn left",on:{click:this.toDetailGif}},[this._v("\n            产品3维展示\n        ")]),this._v(" "),e("div",{staticClass:"btn right"},[this._v("\n            购买方案原型\n        ")])])])},staticRenderFns:[]};var jt=i("VU/8")(zt,Gt,!1,function(t){i("RvnY")},"data-v-7e43d1ed",null).exports,Mt={components:{},data:function(){return{id:this.$route.params.id,url:"/static/test/2.jpg",show3d:!1}},created:function(){F.dispatch("getProduct",{id:this.id}).then(function(t){document.title=t.name})},computed:{productInfo:function(){return F.state.productInfo||{}}}},At={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"detail-box"},[e("div",{staticClass:"detail-img"},[e("img",{staticClass:"w-100",attrs:{src:this.productInfo.gifImg,alt:""}})])])},staticRenderFns:[]};var Ht=i("VU/8")(Mt,At,!1,function(t){i("gjJa")},"data-v-180bb5dc",null).exports,Wt=0;var Vt={name:"ShnModal",props:{visible:{type:Boolean,default:!1},title:{type:String,default:""},mask:{type:Boolean,default:!0},maskClosable:{type:Boolean,default:!0},styleObj:{type:Object,default:function(){return{}}}},data:function(){return{id:0,show:this.visible}},watch:{visible:function(t){this.show=t,this.show?(Wt=document.scrollingElement.scrollTop,document.body.style.position="fixed",document.body.style.top=-Wt+"px"):(document.body.style.position="",document.body.style.top="",document.scrollingElement.scrollTop=Wt)}},mounted:function(){},methods:{close:function(){this.$emit("close")}}},Kt={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"shn-modal"},[i("transition",{attrs:{name:"shn-fade"}},[t.show&&t.mask?i("div",{staticClass:"shn-modal-mask",on:{click:function(e){t.maskClosable&&t.$emit("update:visible",!1),t.close()}}}):t._e()]),t._v(" "),i("transition",{attrs:{name:"shn-modal-fade"}},[t.show?i("div",{staticClass:"shn-modal-content"},[i("div",{staticClass:"shn-modal-content-box",style:t.styleObj},[i("div",{staticClass:"shn-modal-content-close",on:{click:function(e){return t.close()}}},[i("span",{staticClass:"shn-modal-close-x"},[t._v("\n                  X\n                ")])]),t._v(" "),t.title?i("div",{staticClass:"shn-modal-content-header"},[i("div",[t._v(t._s(t.title))])]):t._e(),t._v(" "),i("div",{staticClass:"shn-modal-content-body"},[t._t("body")],2),t._v(" "),i("div",{staticClass:"shn-modal-content-footer"},[t._t("footer")],2)])]):t._e()])],1)},staticRenderFns:[]};var qt=i("VU/8")(Vt,Kt,!1,function(t){i("jz0f")},"data-v-48c81ae9",null).exports,Jt=i("YZ0n"),Yt={props:{title:{type:String,default:"确定删除吗"},show:{type:Boolean,default:!0},content:{type:String,default:""}},components:{modal:qt},methods:{close:function(){this.$emit("close")},sure:function(){this.$emit("ok")}}},Xt={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("modal",{attrs:{visible:t.show,title:t.title,"mask-closable":!1},on:{"update:visible":function(e){t.show=e},close:function(e){return t.close()}},scopedSlots:t._u([{key:"body",fn:function(){return[i("div",{staticStyle:{width:"300px",display:"flex"}},[t._v("\n             "+t._s(t.content)+"\n           ")]),t._v(" "),t._t("default")]},proxy:!0},{key:"footer",fn:function(){return[i("button",{staticClass:"btn",on:{click:t.close}},[t._v("取消")]),t._v(" "),i("button",{staticClass:"btn success",on:{click:t.sure}},[t._v("确定")])]},proxy:!0}],null,!0)})},staticRenderFns:[]},Zt=i("VU/8")(Yt,Xt,!1,null,null,null).exports,Qt={components:{VueCropper:Jt.VueCropper,Confirm:Zt,modal:qt},props:{styleObj:{type:Object,default:function(){return{}}},type:{type:String,default:"image"},id:{type:Number,default:-1},url:{type:Object,default:function(){return E.uploadImg}},img:{type:String,default:""},thumbImg:{type:String,default:""},addIcon:{type:String,default:"/static/icon/add.png"},tip:{type:String,default:""},cropper:{type:Boolean,default:!1},fixed:{type:Boolean,default:!0},isImg:{type:Boolean,default:!0},fixedNumber:{type:Array,default:function(){return[1,1]}}},data:function(){return{confirmContent:"确定要删除此张图片吗？",showConfirm:!1,host:D.HOST,originPath:this.isImg?"/api/download/image/origin/":"/api/download/file/origin/",thumbPath:this.isImg?"/api/download/image/thumbnail/":"",isMaskShow:!1,showBigImg:!1,cropperImg:this.img||"",bgImg:this.img||"",cropperShow:!1,outputSize:.8,width:400,height:300,cropperInfo:{width:"100%",heigth:"100%"},previewImg:""}},watch:{img:function(t){this.cropperImg=t,this.bgImg=t}},computed:{showImgMask:function(){return this.isMaskShow&&this.img}},methods:{sure:function(){this.deleteImg(),this.showConfirm=!1},emitChange:function(t,e){var i=this;if("fileChange"===t){var n=new FormData;n.append("file",e.blob);var s=this.url;e.blob.type&&-1!==e.blob.type.indexOf("image/")&&"file"===this.type&&(s=E.uploadImg),this.$ajax(s,n).then(function(e){i.$emit(t,o()(e,{url:i.host+i.originPath+e.filename,thumbUrl:i.host+i.thumbPath+e.filename}))})}else this.$emit(t,e)},preview:function(t){this.showBigImg=!0},deleteImg:function(t){this.emitChange("deleteImg",{img:this.bgImg,id:this.id})},chooseFile:function(){this.$refs.input.click(),this.hideMask()},showMask:function(){this.img&&(this.isMaskShow=!0)},hideMask:function(){this.img&&(this.isMaskShow=!1)},fileChange:function(t){var e=this,i=(t.target||{}).files;if(i){var n=i[0],o=new FileReader;o.onload=function(t){e.cropperImg=t.target.result,e.cropper?e.cropperShow=!0:(e.bgImg=t.target.result,e.emitChange("fileChange",{base64:e.cropperImg,blob:n})),e.$refs.input.value=""},o.onerror=function(t){e.emitChange("fileChange",{base64:"",blob:n})},o.readAsDataURL(n)}},hideCropper:function(){this.hideMask(),this.cropperShow=!1},getBlob:function(){var t=this;return new l.a(function(e,i){t.$refs.cropper.getCropBlob(function(t){e(t)})})},getBase64:function(){var t=this;return new l.a(function(e,i){t.$refs.cropper.getCropData(function(t){e(t)})})},cropperConfirm:function(){var t=this;this.hideMask(),this.bgImg=this.previewImg,this.cropperShow=!1;var e=[this.getBlob(),this.getBase64()];l.a.all(e).then(function(e){t.emitChange("fileChange",{id:t.id,base64:e[1],blob:e[0]})})},realTime:function(t){var e=this;this.getBase64().then(function(t){e.previewImg=t})}}},te={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{width:"100%",height:"100%"}},[i("div",{staticClass:"item-container",style:Object.assign({},{backgroundImage:"url("+(t.thumbImg||t.img)+")"},t.styleObj)},[i("input",{ref:"input",staticClass:"file",attrs:{type:"file"},on:{mouseenter:function(e){return t.showMask()},change:function(e){return t.fileChange(e)}}}),t._v(" "),t.img?t._e():i("div",{staticClass:"tip"},[i("img",{attrs:{src:t.addIcon,alt:""}}),t._v(" "),i("span",[t._v(t._s(t.tip))])]),t._v(" "),t.showImgMask?i("div",{staticClass:"img-mask",on:{mouseleave:function(e){return t.hideMask()},click:function(e){return t.chooseFile()}}},[i("i",{attrs:{title:"预览"},on:{click:function(e){return e.stopPropagation(),t.preview(e)}}},[i("img",{staticClass:"icon",attrs:{src:"/static/icon/preview.png",alt:""}})]),t._v(" "),i("i",{attrs:{title:"删除"},on:{click:function(e){e.stopPropagation(),t.showConfirm=!0}}},[i("img",{staticClass:"icon",attrs:{src:"/static/icon/delete.png",alt:""}})])]):t._e()]),t._v(" "),i("modal",{staticClass:"showBigImg",attrs:{visible:t.showBigImg},on:{"update:visible":function(e){t.showBigImg=e},close:function(e){t.showBigImg=!1}},scopedSlots:t._u([{key:"body",fn:function(){return[i("div",{staticStyle:{width:"500px",height:"400px",display:"flex"}},[i("img",{staticStyle:{width:"100%"},attrs:{src:t.bgImg,alt:""}})])]},proxy:!0}])}),t._v(" "),i("modal",{attrs:{"mask-closable":!1,visible:t.cropperShow,title:"裁剪图片"},on:{"update:visible":function(e){t.cropperShow=e}},scopedSlots:t._u([{key:"body",fn:function(){return[i("div",{staticStyle:{width:"500px",height:"400px",display:"flex"}},[i("div",{staticClass:"preview"},[i("img",{staticStyle:{width:"100%"},attrs:{src:t.previewImg}})]),t._v(" "),i("vue-cropper",{ref:"cropper",staticClass:"cropper",attrs:{autoCropHeight:"100%","fixed-number":[t.width,t.height],full:!0,img:t.cropperImg,centerBox:!0,"output-size":t.outputSize,"auto-crop":!0,fixed:t.fixed,fixedNumber:t.fixedNumber},on:{realTime:t.realTime}})],1)]},proxy:!0},{key:"footer",fn:function(){return[i("button",{staticClass:"btn",on:{click:t.hideCropper}},[i("span",[t._v("取消")])]),t._v(" "),i("button",{staticClass:"btn success",on:{click:t.cropperConfirm}},[i("span",[t._v("确定")])])]},proxy:!0}])}),t._v(" "),i("Confirm",{attrs:{show:t.showConfirm,content:t.confirmContent},on:{close:function(e){t.showConfirm=!1},ok:t.sure}})],1)},staticRenderFns:[]};var ee=i("VU/8")(Qt,te,!1,function(t){i("tjI8")},"data-v-a8343f8a",null).exports,ie={components:{cropperItem:ee},props:{styleObj:{type:Object,default:function(){return{}}},itemStyleObj:{type:Object,default:function(){return{}}},imgInfoList:{type:Array,default:function(){return[]}}},data:function(){return{identId:0,newImg:"",items:this.imgInfoList}},methods:{addImg:function(t){this.identId++,t.identId=this.identId,this.items.push(t),this.newImg="",this.$emit("fileChange",this.items)},changeImg:function(t){var e=this.items.findIndex(function(e){return e.identId===t.id});this.items[e]=o()(this.items[e],t)},deleteImg:function(t){var e=this.items.findIndex(function(e){return e.identId===t.id});this.items.splice(e,1)}}},ne={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ul",{style:t.styleObj},[t._l(t.items,function(e,n){return i("li",{key:n,staticClass:"change item",style:t.itemStyleObj},[i("cropperItem",{attrs:{id:e.identId,img:e.url,thumbImg:e.thumbUrl,index:n},on:{fileChange:t.changeImg,deleteImg:t.deleteImg}})],1)}),t._v(" "),i("li",{staticClass:"add item",style:t.itemStyleObj},[i("cropperItem",{attrs:{img:t.newImg},on:{fileChange:t.addImg}})],1)],2)},staticRenderFns:[]};var oe=i("VU/8")(ie,ne,!1,function(t){i("PFMp")},"data-v-567a663a",null).exports,se={props:{pId:{type:Number,default:-1}},computed:{editDiologShow:{get:function(){return F.state.editDiologShow},set:function(t){F.commit("setEditDiologShow",t)}},isEdit:function(){return F.state.isEdit},editInfo:{get:function(){return F.state.editInfo},set:function(t){F.commit("setEditInfo",t)}}},methods:{updateMainImgList:function(t){this.editInfo.mainImgList=t},updateDesc:function(t){this.editInfo.descImgThumb=t.thumbUrl,this.editInfo.descImg=t.url},updateGif:function(t){this.editInfo.gifImg=t.url,this.editInfo.gifImgThumb=t.thumbUrl},updateFile:function(t){this.editInfo.originFile=t.url},deleteDesc:function(t){this.editInfo.descImgThumb="",this.editInfo.descImg=""},deleteGif:function(t){this.editInfo.gifImg="",this.editInfo.gifImgThumb=""},checkEditInfo:function(){var t=!0,e=!1,i=void 0;try{for(var n,o=r()([{key:"name",type:"string",value:"产品名称不能为空"},{key:"mainImgList",type:"array",value:"产品主图不能为空"},{key:"descImg",type:"string",value:"产品详情不能为空"},{key:"gifImg",type:"string",value:"产品动图不能为空"},{key:"originFile",type:"string",value:"产品原型不能为空"}]);!(t=(n=o.next()).done);t=!0){var s=n.value;if("string"===s.type&&!this.editInfo[s.key])return s.value;if("array"===s.type&&this.editInfo[s.key].length<1)return s.value}}catch(t){e=!0,i=t}finally{try{!t&&o.return&&o.return()}finally{if(e)throw i}}return""},save:function(){var t=this,e=this.checkEditInfo();if(e)return f(e);void 0===this.editInfo.pId&&(this.editInfo.pId=this.pId),this.editInfo.prize=+this.editInfo.prize,F.dispatch(this.isEdit?"editProduct":"addProduct",this.editInfo).then(function(){t.editDiologShow=!1})}},components:{modal:qt,CroppperList:oe,CropperItem:ee},data:function(){return{descImg:"",uploadFileUrl:E.uploadFile,dialogShow:this.show,isUpload:!1,styleObj:{backgroundColor:"#EBEBEB"},itemStyleObj:{width:"60px",height:"60px",backgroundColor:"#fff",borderRadius:"7px",overflow:"hidden"},uploadStyleObj:{backgroundColor:"#EBEBEB",color:"#000"}}}},ae={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("modal",{attrs:{visible:t.editDiologShow,styleObj:t.styleObj,title:(t.isEdit?"编辑":"新增")+"产品"},on:{"update:visible":function(e){t.editDiologShow=e},close:function(e){t.editDiologShow=!1}},scopedSlots:t._u([{key:"body",fn:function(){return[i("div",{staticClass:"form-container"},[i("div",{staticClass:"form"},[i("div",{staticClass:"item name"},[i("div",{staticClass:"left"},[t._v("产品名称")]),t._v(" "),i("div",{staticClass:"right"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.editInfo.name,expression:"editInfo.name"}],attrs:{type:"text",placeholder:"请输入产品名称"},domProps:{value:t.editInfo.name},on:{input:function(e){e.target.composing||t.$set(t.editInfo,"name",e.target.value)}}})])]),t._v(" "),i("div",{staticClass:"item main"},[i("div",{staticClass:"left"},[t._v("产品主图")]),t._v(" "),i("div",{staticClass:"right"},[i("CroppperList",{attrs:{imgInfoList:t.editInfo.mainImgList,itemStyleObj:t.itemStyleObj},on:{fileChange:t.updateMainImgList}})],1)]),t._v(" "),i("div",{staticClass:"item desc"},[i("div",{staticClass:"left"},[t._v("产品详情")]),t._v(" "),i("div",{staticClass:"right"},[i("CropperItem",{attrs:{img:t.editInfo.descImg,thumbImg:t.editInfo.descImgThumb,cropper:!1},on:{fileChange:t.updateDesc,deleteImg:function(e){return t.deleteDesc()}}})],1)]),t._v(" "),i("div",{staticClass:"item gif"},[i("div",{staticClass:"left"},[t._v("产品动图")]),t._v(" "),i("div",{staticClass:"right"},[i("CropperItem",{attrs:{cropper:!1,img:t.editInfo.gifImg},on:{fileChange:t.updateGif,deleteImg:function(e){return t.deleteGif()}}})],1)]),t._v(" "),i("div",{staticClass:"item file"},[i("div",{staticClass:"left"},[t._v("产品原文件")]),t._v(" "),i("div",{staticClass:"right"},[i("div",{staticClass:"upload"},[i("button",{staticClass:"btn file"},[i("CropperItem",{attrs:{type:"file",url:t.uploadFileUrl,cropper:!1,styleObj:t.uploadStyleObj,addIcon:"",tip:"点击上传",isImg:!1},on:{fileChange:t.updateFile}})],1),t._v(" "),i("span",{class:{active:t.editInfo.originFile}},[t._v("已上传")]),t._v("/\n                              "),i("span",{class:{active:!t.editInfo.originFile}},[t._v("未上传")])]),t._v(" "),i("div",{staticClass:"prize"},[i("span",[t._v("原文件价格")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.editInfo.prize,expression:"editInfo.prize"}],staticClass:"btn danger",domProps:{value:t.editInfo.prize},on:{input:function(e){e.target.composing||t.$set(t.editInfo,"prize",e.target.value)}}}),t._v(" 元\n                            ")])])]),t._v(" "),i("div",{staticClass:"item",on:{click:function(e){return t.save()}}},[i("button",{staticClass:"btn danger save"},[t._v("完成保存")])])])])]},proxy:!0}])})},staticRenderFns:[]};var re=i("VU/8")(se,ae,!1,function(t){i("jYlU")},"data-v-1402e70a",null).exports,ce={props:{pId:{type:Number,default:-1}},computed:{editDiologShow:{get:function(){return F.state.bEditDiologShow},set:function(t){F.commit("setBEditDiologShow",t)}},isEdit:function(){return F.state.isBEdit},editInfo:{get:function(){return F.state.bEditInfo},set:function(t){F.commit("setBEditInfo",t)}}},methods:{checkEditInfo:function(){var t=!0,e=!1,i=void 0;try{for(var n,o=r()([{key:"name",type:"string",value:"大系列名称不能为空"}]);!(t=(n=o.next()).done);t=!0){var s=n.value;if("string"===s.type&&!this.editInfo[s.key])return s.value;if("array"===s.type&&this.editInfo[s.key].length<1)return s.value}}catch(t){e=!0,i=t}finally{try{!t&&o.return&&o.return()}finally{if(e)throw i}}return""},save:function(){var t=this,e=this.checkEditInfo();if(e)return f(e);F.dispatch(this.isEdit?"editBseries":"addBseries",this.editInfo).then(function(){t.editDiologShow=!1})}},components:{modal:qt},data:function(){return{descImg:"",uploadUrl:E.uploadImg,dialogShow:this.show,isUpload:!1,styleObj:{backgroundColor:"#EBEBEB",height:"300px"},itemStyleObj:{width:"60px",height:"60px",backgroundColor:"#fff",borderRadius:"7px",overflow:"hidden"},uploadStyleObj:{backgroundColor:"#EBEBEB",color:"#000"}}}},le={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("modal",{attrs:{visible:t.editDiologShow,styleObj:t.styleObj,title:(t.isEdit?"编辑":"新增")+"大系列"},on:{"update:visible":function(e){t.editDiologShow=e},close:function(e){t.editDiologShow=!1}},scopedSlots:t._u([{key:"body",fn:function(){return[i("div",{staticClass:"form-container"},[i("div",{staticClass:"form"},[i("div",{staticClass:"item name"},[i("div",{staticClass:"left"},[t._v("大类名称")]),t._v(" "),i("div",{staticClass:"right"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.editInfo.name,expression:"editInfo.name"}],attrs:{type:"text",placeholder:"请输入大系列名称"},domProps:{value:t.editInfo.name},on:{input:function(e){e.target.composing||t.$set(t.editInfo,"name",e.target.value)}}})])]),t._v(" "),i("div",{staticClass:"item",on:{click:function(e){return t.save()}}},[i("button",{staticClass:"btn danger save"},[t._v("完成保存")])])])])]},proxy:!0}])})},staticRenderFns:[]};var de={computed:{editDiologShow:{get:function(){return F.state.lEditDiologShow},set:function(t){F.commit("setLEditDiologShow",t)}},isEdit:function(){return F.state.isLEdit},editInfo:{get:function(){return F.state.lEditInfo},set:function(t){F.commit("setLEditInfo",t)}}},methods:{deleteMain:function(){this.editInfo.mainImg="",this.editInfo.mainImgThumb=""},updateMain:function(t){this.editInfo.mainImg=t.url,this.editInfo.mainImgThumb=t.thumbUrl},checkEditInfo:function(){var t=!0,e=!1,i=void 0;try{for(var n,o=r()([{key:"name",type:"string",value:"小系列名称不能为空"},{key:"mainImg",type:"string",value:"小系列主图不能为空"}]);!(t=(n=o.next()).done);t=!0){var s=n.value;if("string"===s.type&&!this.editInfo[s.key])return s.value;if("array"===s.type&&this.editInfo[s.key].length<1)return s.value}}catch(t){e=!0,i=t}finally{try{!t&&o.return&&o.return()}finally{if(e)throw i}}return""},save:function(){var t=this,e=this.checkEditInfo();if(e)return f(e);F.dispatch(this.isEdit?"editLseries":"addLseries",this.editInfo).then(function(){t.editDiologShow=!1})}},components:{modal:qt,CropperItem:ee},data:function(){return{descImg:"",uploadUrl:E.uploadImg,dialogShow:this.show,isUpload:!1,styleObj:{backgroundColor:"#EBEBEB",height:"300px"},itemStyleObj:{width:"60px",height:"60px",backgroundColor:"#fff",borderRadius:"7px",overflow:"hidden"},uploadStyleObj:{backgroundColor:"#EBEBEB",color:"#000"}}}},ue={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("modal",{attrs:{visible:t.editDiologShow,styleObj:t.styleObj,title:(t.isEdit?"编辑":"新增")+"小系列"},on:{"update:visible":function(e){t.editDiologShow=e},close:function(e){t.editDiologShow=!1}},scopedSlots:t._u([{key:"body",fn:function(){return[i("div",{staticClass:"form-container"},[i("div",{staticClass:"form"},[i("div",{staticClass:"item name"},[i("div",{staticClass:"left"},[t._v("小系列名称")]),t._v(" "),i("div",{staticClass:"right"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.editInfo.name,expression:"editInfo.name"}],attrs:{type:"text",placeholder:"请输入小系列名称"},domProps:{value:t.editInfo.name},on:{input:function(e){e.target.composing||t.$set(t.editInfo,"name",e.target.value)}}})])]),t._v(" "),i("div",{staticClass:"item desc"},[i("div",{staticClass:"left"},[t._v("小系列主图")]),t._v(" "),i("div",{staticClass:"right"},[i("CropperItem",{attrs:{img:t.editInfo.mainImg,cropper:!1,url:t.uploadUrl},on:{fileChange:t.updateMain,deleteImg:function(e){return t.deleteMain()}}})],1)]),t._v(" "),i("div",{staticClass:"item",on:{click:function(e){return t.save()}}},[i("button",{staticClass:"btn danger save"},[t._v("完成保存")])])])])]},proxy:!0}])})},staticRenderFns:[]};var fe={components:{ProductEdit:re,BseriesEdit:i("VU/8")(ce,le,!1,function(t){i("n1bA")},"data-v-e1a6b6dc",null).exports,LseriesEdit:i("VU/8")(de,ue,!1,function(t){i("OmWH")},"data-v-9ec1895a",null).exports,Confirm:Zt},data:function(){return{isBig:!1,currentBseries:null,currentLseries:null,showConfirm:!1,confirmContent:"",activeId:-2,pId:-1,showDialog:!1,height:window.screen.availHeight-10}},computed:{list:function(){return F.state.bseriesList},flag:function(){return O.state.flag||p("flag")},token:function(){return O.state.token||p("token")}},created:function(){console.log(this.flag,this.token),this.flag&&this.token||this.$router.push("/login"),F.dispatch("getBserieses")},methods:{addLseries:function(t){if(t){var e={name:"",mainImg:"",mainImgThumb:"",bId:t};F.commit("setLEditing",!1),F.commit("setLEditInfo",e),F.commit("setLEditDiologShow",!0)}},changeLseries:function(t){F.commit("setLEditing",!0),F.commit("setLEditInfo",t),F.commit("setLEditDiologShow",!0)},moveL:function(t,e,i,n){if(i){var o="up"===i?n[e-1]:n[e+1];F.dispatch("moveLseries",{start:t.lId,end:o.lId})}},move:function(t,e,i,n){if(i){var o="up"===i?n[e-1]:n[e+1];F.dispatch("moveBseries",{start:t.bId,end:o.bId})}},sure:function(){if(this.isBig){if(!this.currentBseries)return;F.dispatch("deleteBseries",this.currentBseries),this.showConfirm=!1}else{if(!this.currentLseries)return;F.dispatch("deleteLseries",this.currentLseries),this.showConfirm=!1}},changeSeries:function(t){F.commit("setBEditing",!0),F.commit("setBEditInfo",t),F.commit("setBEditDiologShow",!0)},deleteLSeries:function(t){this.isBig=!1,this.showConfirm=!0,this.currentLseries=t,this.confirmContent="确定要删除小系列 "+t.name+" 吗？"},deleteSeries:function(t){this.isBig=!0,this.showConfirm=!0,this.currentBseries=t,this.confirmContent="确定要删除大系列 "+t.name+" 吗？"},addSeries:function(){F.commit("setBEditing",!1),F.commit("setBEditInfo",{name:""}),F.commit("setBEditDiologShow",!0)},addProduct:function(){if(!this.currentLseries||!this.currentLseries.lId)return f("请先选中小系列");var t={lId:this.currentLseries.lId,name:"",mainImgList:[],descImgThumb:"",descImg:"",gifImg:"",originFile:"",prize:0};F.commit("setEditing",!1),F.commit("setEditInfo",t),F.commit("setEditDiologShow",!0)},showDesc:function(t){t.lId&&(this.activeId=t.lId,this.currentLseries=t,this.$router.push("/admin/"+t.lId))}}},he={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"admin-container",style:{height:t.height+"px"}},[i("div",{staticClass:"admin-nav"},[i("div",{staticClass:"title"},[i("div",{staticClass:"text",on:{click:function(e){return t.addSeries()}}},[t._v("+产品管理")])]),t._v(" "),i("div",{staticClass:"content",style:{height:t.height-120+"px"}},[i("ul",t._l(t.list,function(e,n){return i("li",{key:n,staticClass:"big-class"},[i("div",{staticClass:"title-box",class:{active:e.bid===t.activeId}},[i("div",{staticClass:"left",attrs:{title:e.name}},[t._v("\n                                "+t._s(t._f("ellipsis")(e.name,6))+"\n                            ")]),t._v(" "),i("div",{staticClass:"right"},[i("div",{staticClass:"operation",on:{click:function(i){return i.stopPropagation(),t.deleteSeries(e)}}},[t._v("删除")]),t._v(" "),i("div",{staticClass:"operation",on:{click:function(i){return i.stopPropagation(),t.addLseries(e.bId)}}},[t._v("添加")]),t._v(" "),0!==n?i("div",{staticClass:"operation",on:{click:function(i){return i.stopPropagation(),t.move(e,n,"up",t.list)}}},[t._v("上移")]):t._e(),t._v(" "),n!==t.list.length-1?i("div",{staticClass:"operation",on:{click:function(i){return i.stopPropagation(),t.move(e,n,"down",t.list)}}},[t._v("下移")]):t._e(),t._v(" "),i("div",{staticClass:"operation",on:{click:function(i){return i.stopPropagation(),t.changeSeries(e)}}},[t._v("编辑")])])]),t._v(" "),i("ul",t._l(e.children,function(n,o){return i("li",{key:o,staticClass:"little-class",class:{active:n.lId===t.activeId},on:{click:function(e){return e.stopPropagation(),t.showDesc(n)}}},[i("div",{staticClass:"title-box"},[i("div",{staticClass:"left",attrs:{title:n.name}},[t._v("\n                                          "+t._s(t._f("ellipsis")(n.name,5))+"\n                                    ")]),t._v(" "),i("div",{staticClass:"right"},[i("div",{staticClass:"operation",on:{click:function(e){return e.stopPropagation(),t.deleteLSeries(n)}}},[t._v("删除")]),t._v(" "),0!==o?i("div",{staticClass:"operation",on:{click:function(i){return i.stopPropagation(),t.moveL(n,o,"up",e.children)}}},[t._v("上移")]):t._e(),t._v(" "),o!==e.children.length-1?i("div",{staticClass:"operation",on:{click:function(i){return i.stopPropagation(),t.moveL(n,o,"down",e.children)}}},[t._v("下移")]):t._e(),t._v(" "),i("div",{staticClass:"operation",on:{click:function(e){return e.stopPropagation(),t.changeLseries(n)}}},[t._v("编辑")])])])])}),0)])}),0)]),t._v(" "),i("div",{staticClass:"footer",on:{click:function(e){return t.addProduct()}}},[i("div",{staticClass:"text"},[t._v("添加产品")])])]),t._v(" "),i("div",{staticClass:"admin-child"},[i("router-view")],1)]),t._v(" "),i("div",{staticStyle:{position:"absolute"}},[i("ProductEdit",{attrs:{pId:t.pId}}),t._v(" "),i("BseriesEdit"),t._v(" "),i("LseriesEdit"),t._v(" "),i("Confirm",{attrs:{show:t.showConfirm,content:t.confirmContent},on:{close:function(e){t.showConfirm=!1},ok:t.sure}})],1)])},staticRenderFns:[]};var me=i("VU/8")(fe,he,!1,function(t){i("SW1H")},"data-v-31a66432",null).exports,pe={data:function(){return{model:{phone:"",password:""}}},beforeCreate:function(){O.commit("setFlag",""),O.commit("setToken",""),O.commit("setUserInfo",{})},methods:{confirm:function(t){var e=this,i=t.phone,n=t.password;O.dispatch("login",{phone:i,password:n}).then(function(t){e.$router.push({path:"/admin",query:{flag:t.id}})}).catch(function(t){console.log(t),e.info="登录失败， 请重新登录"})}},watch:{name:function(){this.info=""},password:function(){this.info=""}}},ve={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"wrapper"},[i("div",{staticClass:"login"},[t._m(0),t._v(" "),i("div",{staticClass:"item"},[i("div",{staticClass:"left"},[t._v("手机号：")]),t._v(" "),i("div",{staticClass:"right"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.model.phone,expression:"model.phone"}],attrs:{type:"text",placeholder:"请输入手机号"},domProps:{value:t.model.phone},on:{input:function(e){e.target.composing||t.$set(t.model,"phone",e.target.value)}}}),t._v(" "),i("i",{staticClass:"iconfont icon-zhanghu"})])]),t._v(" "),i("div",{staticClass:"item"},[i("div",{staticClass:"left"},[t._v("密码：")]),t._v(" "),i("div",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.model.password,expression:"model.password"}],attrs:{type:"password",placeholder:"请输入你的密码"},domProps:{value:t.model.password},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.confirm(t.model)},input:function(e){e.target.composing||t.$set(t.model,"password",e.target.value)}}}),t._v(" "),i("i",{staticClass:"iconfont icon-yuechi"})])]),t._v(" "),i("button",{staticClass:"btn btn-success",on:{click:function(e){return t.confirm(t.model)}}},[i("span",[t._v("登录")])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"item"},[e("h3",{staticClass:"title"},[this._v("登陆")])])}]};var ge=i("VU/8")(pe,ve,!1,function(t){i("Bz02")},"data-v-07aadb0c",null).exports,Ie={components:{ProductEdit:re,Confirm:Zt},created:function(){F.dispatch("getProducts",{lId:this.id,pageSize:1e3}),F.dispatch("getBindLitteProgram")},mounted:function(){this.$refs.waterfall.waterfallOver()},computed:{littleProgramInfo:function(){return F.state.littleProgramInfo},userInfo:function(){var t=O.state.userInfo||{};if(!t.id){var e=p("userInfo");t=e?JSON.parse(e):{}}return t},items:function(){var t=F.state.productList.map(function(t){return y()({},t,{src:t.mainImgList[0].thumbUrl,width:700,height:200})});return t},flag:function(){return O.state.flag||p("flag")},id:function(){return+this.$route.params.id}},watch:{littleProgramInfo:function(t){t&&t.appid&&(this.appid=t.appid,this.version=t.version)},id:function(t){F.dispatch("getProducts",{lId:this.id})},items:function(t){this.productList=t,t&&0!==t.length||this.$refs.waterfall.waterfallOver()}},data:function(){return{version:0,appid:"",showLittleConfirm:!1,width:document.body.clientWidth-255+"px",imgsArr:[],group:0,productInfo:{},showConfirm:!1,title:"提示",confirmContent:"",productList:F.state.productList}},methods:{bind:function(){var t=this;F.dispatch("bindLittleProgram",{appid:this.appid,version:+this.version}).then(function(){t.showConfirm=!1})},getLink:function(){this.showConfirm=!0,this.title="客户端链接",this.confirmContent=location.protocol+"//"+location.host+"/?"+this.flag},bandLittleProgram:function(){this.showLittleConfirm=!0,this.title=this.littleProgramInfo.appid?"修改小程序信息":"绑定小程序",this.confirmContent=""},logout:function(){this.$router.push("/login")},toAccount:function(){this.$router.push("/account")},modifyAccount:function(){this.$router.push({path:"/account",query:{isModify:1}})},getData:function(){},getCurrentHeight:function(t){t.mainImgList&&t.mainImgList[0]&&u((t.mainImgList[0]||{}).thumbUrl,t.width).then(function(e){t.height=e})},loadmore:function(){},sure:function(){var t=this;F.dispatch("deleteProduct",{id:this.productInfo.id,lId:this.productInfo.lId}).then(function(){t.showConfirm=!1})},move:function(t,e,i,n){if(i){var o="up"===i?n[e-1]:n[e+1];F.dispatch("moveProduct",{start:t.id,end:o.id,lId:t.lId})}},deleteProduct:function(t){t&&(this.productInfo=t,this.showConfirm=!0,this.confirmContent="确定删除 "+t.name+" 吗？")},showDialog:function(t){t&&(this.productInfo=t,F.commit("setEditing",!0),F.commit("setEditInfo",this.productInfo),F.commit("setEditDiologShow",!0))}}},we={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"product-container",style:{width:t.width}},[i("div",{staticClass:"nav"},[i("div",{staticClass:"left"},[t._v("\n            欢迎您："+t._s(t.userInfo.name)+"\n        ")]),t._v(" "),i("div",{staticClass:"right"},[t.userInfo.isKeeper?i("div",{staticClass:"nav-item addUser",on:{click:function(e){return t.toAccount()}}},[t._v("添加管理员")]):t._e(),t._v(" "),i("div",{staticClass:"nav-item addUser",on:{click:function(e){return t.modifyAccount()}}},[t._v("修改账号资料")]),t._v(" "),i("div",{staticClass:"nav-item addUser",on:{click:function(e){return t.getLink()}}},[t._v("获取客户端链接")]),t._v(" "),i("div",{staticClass:"nav-item addUser",on:{click:function(e){return t.bandLittleProgram()}}},[t._v(t._s(t.littleProgramInfo.appid?"已绑定小程序":"绑定小程序"))]),t._v(" "),i("div",{staticClass:"nav-item logout",on:{click:function(e){return t.logout()}}},[t._v("退出")])])]),t._v(" "),i("waterfall",{ref:"waterfall",attrs:{imgsArr:t.items,maxCols:4,loadingDotStyle:{}},scopedSlots:t._u([{key:"default",fn:function(e){return i("div",{staticClass:"desc"},[i("div",{staticClass:"left",attrs:{title:e.value.name}},[t._v(t._s(t._f("ellipsis")(e.value.name,6)))]),t._v(" "),i("div",{staticClass:"right"},[i("div",{staticClass:"delete",on:{click:function(i){return i.stopPropagation(),t.deleteProduct(e.value)}}},[t._v("删除")]),t._v(" "),i("div",{staticClass:"move",on:{click:function(i){return i.stopPropagation(),t.showDialog(e.value)}}},[t._v("编辑")]),t._v(" "),e.index!==t.items.length-1?i("div",{staticClass:"operation",on:{click:function(i){return i.stopPropagation(),t.move(e.value,e.index,"down",t.items)}}},[t._v("后移")]):t._e(),t._v(" "),0!==e.index?i("div",{staticClass:"operation",on:{click:function(i){return i.stopPropagation(),t.move(e.value,e.index,"up",t.items)}}},[t._v("前移")]):t._e()])])}}])}),t._v(" "),i("ProductEdit",{attrs:{show:t.showDialog,pId:t.productInfo.pId}}),t._v(" "),i("Confirm",{attrs:{show:t.showConfirm,title:t.title,content:t.confirmContent},on:{close:function(e){t.showConfirm=!1},ok:t.sure}}),t._v(" "),i("Confirm",{attrs:{show:t.showLittleConfirm,title:t.title},on:{close:function(e){t.showLittleConfirm=!1},ok:t.bind}},[i("div",{staticStyle:{"text-align":"left","margin-bottom":"10px"}},[t._v("\n        小程序appid:  "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.appid,expression:"appid"}],attrs:{type:"text",placeholder:"请输入小程序appid"},domProps:{value:t.appid},on:{input:function(e){e.target.composing||(t.appid=e.target.value)}}})]),t._v(" "),t.littleProgramInfo.appid?i("div",{staticStyle:{"text-align":"left"}},[t._v("\n        小程序版本号: "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.version,expression:"version"}],attrs:{type:"text",placeholder:"请输入小程序版本号"},domProps:{value:t.version},on:{input:function(e){e.target.composing||(t.version=e.target.value)}}})]):t._e()])],1)},staticRenderFns:[]};var Ce=i("VU/8")(Ie,we,!1,function(t){i("n3Pa"),i("GyDJ")},"data-v-41e19aa4",null).exports,ye={name:"",account:"",password:"",repassword:"",isKeeper:0},_e={mounted:function(){console.log(this.model)},data:function(){var t=this.$route.query.isModify?o()({},O.state.userInfo,{repassword:O.state.userInfo.password}):ye;return{isModify:1===this.$route.query.isModify,model:t,isKeeper:t.isKeeper}},methods:{toLogin:function(){this.$router.push("/login")},confirm:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=y()({},e);i.isKeeper=+i.isKeeper;var n=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=!0,n=!1,o=void 0;try{for(var s,a=r()(e);!(i=(s=a.next()).done);i=!0){var c=s.value;if(console.log(3333),!(c.type&&"string"!==c.type||t[c.key]))return c.value;if("array"===c.type&&t[c.key].length<1)return c.value}}catch(t){n=!0,o=t}finally{try{!i&&a.return&&a.return()}finally{if(n)throw o}}return""}(i,[{key:"name",value:"用户名不能为空"},{key:"phone",value:"电话不能为空"},{key:"password",type:"string",value:"密码不能为空"}]);return n?f(n):i.password!==i.repassword?f("前后密码不一致"):void O.dispatch(this.isModify?"modifyUser":"addUser",i).then(function(e){t.$router.push("/login")})}}},be={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"wrapper"},[i("div",{staticClass:"back",on:{click:function(e){return t.toLogin()}}},[i("a",[t._v("前往登陆")])]),t._v(" "),i("div",{staticClass:"login"},[i("div",{staticClass:"title"},[i("h3",[t._v(t._s(t.isModify?"修改":"添加")+"账号")])]),t._v(" "),i("div",{staticClass:"item"},[i("div",{staticClass:"left"},[t._v("用户名：")]),t._v(" "),i("div",{staticClass:"right"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.model.name,expression:"model.name"}],attrs:{type:"text",placeholder:"请输入账号"},domProps:{value:t.model.name},on:{input:function(e){e.target.composing||t.$set(t.model,"name",e.target.value)}}}),t._v(" "),i("i",{staticClass:"iconfont icon-zhanghu"})])]),t._v(" "),i("div",{staticClass:"item"},[i("div",{staticClass:"left"},[t._v("电话：")]),t._v(" "),i("div",{staticClass:"right"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.model.phone,expression:"model.phone"}],attrs:{type:"text",placeholder:"请输入电话"},domProps:{value:t.model.phone},on:{input:function(e){e.target.composing||t.$set(t.model,"phone",e.target.value)}}}),t._v(" "),i("i",{staticClass:"iconfont icon-zhanghu"})])]),t._v(" "),i("div",{staticClass:"item"},[i("div",{staticClass:"left"},[t._v("密码：")]),t._v(" "),i("div",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.model.password,expression:"model.password"}],attrs:{type:"password",placeholder:"请输入你的密码"},domProps:{value:t.model.password},on:{input:function(e){e.target.composing||t.$set(t.model,"password",e.target.value)}}}),t._v(" "),i("i",{staticClass:"iconfont icon-yuechi"})])]),t._v(" "),i("div",{staticClass:"item"},[i("div",{staticClass:"left"},[t._v("确认密码：")]),t._v(" "),i("div",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.model.repassword,expression:"model.repassword"}],attrs:{type:"password",placeholder:"请输入你的密码"},domProps:{value:t.model.repassword},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.confirm(t.model)},input:function(e){e.target.composing||t.$set(t.model,"repassword",e.target.value)}}}),t._v(" "),i("i",{staticClass:"iconfont icon-yuechi"})])]),t._v(" "),t.isKeeper?i("div",{staticClass:"item"},[i("div",{staticClass:"left"},[t._v("是否为管理员：")]),t._v(" "),i("div",{staticClass:"right keeper"},[t._v("\n                是："),i("input",{directives:[{name:"model",rawName:"v-model",value:t.model.isKeeper,expression:"model.isKeeper"}],attrs:{value:"1",type:"radio",name:"keeper"},domProps:{checked:t._q(t.model.isKeeper,"1")},on:{change:function(e){return t.$set(t.model,"isKeeper","1")}}}),t._v("\n                    \n                否："),i("input",{directives:[{name:"model",rawName:"v-model",value:t.model.isKeeper,expression:"model.isKeeper"}],attrs:{value:"0",type:"radio",name:"keeper"},domProps:{checked:t._q(t.model.isKeeper,"0")},on:{change:function(e){return t.$set(t.model,"isKeeper","0")}}})])]):t._e(),t._v(" "),i("button",{staticClass:"btn btn-success",on:{click:function(e){return t.confirm(t.model)}}},[i("span",[t._v("提交")])])])])},staticRenderFns:[]};var xe=i("VU/8")(_e,be,!1,function(t){i("/uiR")},"data-v-1746a3a8",null).exports,Le=A.a.prototype.push;A.a.prototype.push=function(t){return Le.call(this,t).catch(function(t){return t})},s.a.use(A.a);var ke=new A.a({mode:"history",routes:[{path:"/",name:"home",component:Ct},{path:"/classify",name:"classify",component:bt},{path:"/collect",name:"collect",component:Dt},{path:"/notice",name:"notice",component:Ot},{path:"/user",name:"user",component:Rt},{path:"/:id/littleClass",name:"littleClass",component:Pt},{path:"/detail/:id",name:"detail",component:jt},{path:"/detail/:id/gif",name:"detailGif",component:Ht},{path:"/admin",name:"admin",component:me,redirect:"/admin/0",children:[{path:"/admin/:id",name:"product",component:Ce}]},{path:"/login",name:"adminLogin",component:ge},{path:"/account",name:"account",component:xe}]}),Ee=i("8+8L"),Se=i("POcy"),Pe=i.n(Se),$e=i("MdTC"),Be=i.n($e),De=(i("GdEX"),{name:"MeScrollVue",data:function(){return{mescroll:null,lastScrollTop:0,lastBounce:null}},props:{up:Object,down:Object},mounted:function(){this.mescroll=new Be.a(this.$refs.mescroll,{up:this.up,down:this.down}),this.$emit("init",this.mescroll)},methods:{beforeRouteEnter:function(){var t=this;this.mescroll&&(this.lastScrollTop&&(this.mescroll.setScrollTop(this.lastScrollTop),setTimeout(function(){t.mescroll.setTopBtnFadeDuration(0)},16)),null!=this.lastBounce&&this.mescroll.setBounce(this.lastBounce))},beforeRouteLeave:function(){this.mescroll&&(this.lastScrollTop=this.mescroll.getScrollTop(),this.mescroll.hideTopBtn(0),this.lastBounce=this.mescroll.optUp.isBounce,this.mescroll.setBounce(!0))}}}),Ne={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{ref:"mescroll",staticClass:"mescroll"},[e("div",[this._t("default")],2)])},staticRenderFns:[]};var Te=i("VU/8")(De,Ne,!1,function(t){i("8Hz4")},null,null).exports,Oe=i("d7W4"),Ue=i.n(Oe),Fe={props:{title:{type:String,default:"没有更多数据"}}},Re={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"nodata"},[this._v("\n "+this._s(this.title)+"\n")])},staticRenderFns:[]};var ze=i("VU/8")(Fe,Re,!1,function(t){i("2pCN")},"data-v-d16bde7e",null).exports;s.a.component("waterfall",Ue.a),s.a.component("nodata",ze),s.a.prototype.$ajax=b;var Ge=[{ellipsis:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return t.length>e?t.slice(0,e-1)+"...":t}}],je=!0,Me=!1,Ae=void 0;try{for(var He,We=r()(Ge);!(je=(He=We.next()).done);je=!0){var Ve=He.value;for(var Ke in Ve){if("function"!=typeof Ve[Ke])break;s.a.filter(Ke,Ve[Ke])}}}catch(t){Me=!0,Ae=t}finally{try{!je&&We.return&&We.return()}finally{if(Me)throw Ae}}s.a.config.productionTip=!1,s.a.use(Ee.a),s.a.http.options.emulateHTTP=!1,s.a.http.interceptors.push(function(t,e){var i="Bearer",n=p("token")||v("token"),s=p("flag")||v("flag");i=n?i+" "+n:i+" ",i=s?i+" "+s:i+" ",t.headers.set("authorization",i),console.log(i),e(function(t){return 401===t.status&&(F.commit("setUserInfo",{}),F.commit("setFlag",""),ke.go({name:"login"})),200===t.status?o()({},t.body,{ok:!0}):t})}),d()?s.a.component("scroller",{template:"<div><slot></slot></div>"}):(s.a.use(Pe.a),s.a.component("mescroll",Te)),s.a.config.productionTip=!1,new s.a({el:"#app",router:ke,components:{App:M},template:"<App/>"})},Oe2d:function(t,e){},OmWH:function(t,e){},PFMp:function(t,e){},RvnY:function(t,e){},SCEK:function(t,e){},SW1H:function(t,e){},gjJa:function(t,e){},jYlU:function(t,e){},jz0f:function(t,e){},merk:function(t,e){},n1bA:function(t,e){},n3Pa:function(t,e){},rQi5:function(t,e){},t1jS:function(t,e){},tjI8:function(t,e){},tmg2:function(t,e){},yRND:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.801e7fbfa29924af3e0f.js.map